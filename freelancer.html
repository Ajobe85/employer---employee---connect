
<!DOCTYPE html>
<html>
<head>
    <title>Freelancer Dashboard</title>
    <link rel="stylesheet" href="styles.css">
    <script src="firebase.js"></script>
</head>
<body>
    <div class="dashboard">
        <h1>Welcome Freelancer</h1>
        <div id="job-listings"></div>
    </div>

    <script>
        // Load jobs
        firebase.database().ref('jobs').on('value', (snapshot) => {
            const jobs = snapshot.val();
            const container = document.getElementById('job-listings');
            container.innerHTML = '';
            
            for (const key in jobs) {
                container.innerHTML += `
                    <div class="job-card">
                        <h3>${jobs[key].title}</h3>
                        <p>${jobs[key].description}</p>
                        <button onclick="applyForJob('${key}')">Apply Now</button>
                    </div>
                `;
            }
        });

        async function applyForJob(jobId) {
            const user = firebase.auth().currentUser;
            await firebase.database().ref(`applications/${jobId}`).push({
                freelancerId: user.uid,
                appliedAt: firebase.database.ServerValue.TIMESTAMP
            });
            alert('Application submitted!');
        }
    </script>
</body>
</html>
